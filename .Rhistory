dir <- "C:/Users/Merav/Documents/GitHub/Statistics-Project/atopic_comorbidities_first_second_year_1.11.22.xlsx"
#dir <- "C:/Users/edena/Documents/GitHub/Statistics-Project/atopic_comorbidities_first_second_year_1.11.22.xlsx"
df <- read_excel(dir, sheet = 1)
library(readxl)
library(dplyr)
#library(rio)
library(ggplot2)
library(tidyr)
options(scipen=5, digits = 5)
dir <- "C:/Users/Merav/Documents/GitHub/Statistics-Project/atopic_comorbidities_first_second_year_1.11.22.xlsx"
#dir <- "C:/Users/edena/Documents/GitHub/Statistics-Project/atopic_comorbidities_first_second_year_1.11.22.xlsx"
df <- read_excel(dir, sheet = 1)
df <- df %>% mutate(DOB = as.Date(DOB))
# Reading libraries:
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
options(scipen=5, digits = 5)
# Reading the file:
dir <- "C:/Users/Merav/Documents/GitHub/Statistics-Project/atopic_comorbidities_first_second_year_1.11.22.xlsx"
#dir <- "C:/Users/edena/Documents/GitHub/Statistics-Project/atopic_comorbidities_first_second_year_1.11.22.xlsx"
#dir <-
df <- read_excel(dir, sheet = 1)
df <- df %>% mutate(DOB = as.Date(DOB))
## df arrangement:
# Filtering participants that completed the survey:
# not relevant columns :
not_relevant <- c('allergist_followup', 'last_spt', 'epipen', 'mistake_exposure', 'reaction_type24', 'diagnosis_by')
df <- df[-which(colnames(df) %in% not_relevant)]
# Filter only participants that complete the survey
df <- df %>% filter(month_survey_complete == 2)
# add binary columns
df$family_Atopic_diseases_sum <- rowSums(df[,15:50])
df$mother_Atopic_diseases_sum <- rowSums(df[,15:20])
df$father_Atopic_diseases_sum <- rowSums(df[,21:26])
df$sibling_Atopic_diseases_sum <- rowSums(df[,27:50])
df <- df %>% mutate(family_Atopic_diseases = ifelse(family_Atopic_diseases_sum >0,1,0),
mother_Atopic_diseases = ifelse(mother_Atopic_diseases_sum>0,1,0),
father_Atopic_diseases = ifelse(father_Atopic_diseases_sum > 0, 1,0),
sibling_Atopic_diseases = ifelse(sibling_Atopic_diseases_sum > 0 ,1, 0)) #%>% select(-c(family_Atopic_diseases_sum, mother_Atopic_diseases_sum, father_Atopic_diseases_sum, sibling_Atopic_diseases_sum))
remove_columns = colnames(df)[51:86]
df <- df[,-c(51:86)]
# Reading the file:
dir <- "C:/Users/Merav/Documents/GitHub/Statistics-Project/atopic_comorbidities_first_second_year_1.11.22.xlsx"
#dir <- "C:/Users/edena/Documents/GitHub/Statistics-Project/atopic_comorbidities_first_second_year_1.11.22.xlsx"
#dir <-
df <- read_excel(dir, sheet = 1)
df <- df %>% mutate(DOB = as.Date(DOB))
View(df)
# Reading libraries:
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
options(scipen=5, digits = 5)
# Reading the file:
dir <- "C:/Users/Merav/Documents/GitHub/Statistics-Project/atopic_comorbidities_first_second_year_1.11.22.xlsx"
